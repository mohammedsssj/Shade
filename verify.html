<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ - Pay Now</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f0f2f5; }
        .container { margin-top: 50px; background: white; padding: 20px; width: 320px; margin: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        video, canvas { width: 100%; border-radius: 10px; }
        .btn { background: #1877f2; color: white; padding: 10px; border: none; width: 100%; border-radius: 5px; cursor: pointer; margin-top: 10px; }
        .privacy { font-size: 12px; margin-top: 10px; cursor: pointer; color: gray; text-decoration: underline; }
        .loading-circle { width: 50px; height: 50px; border: 5px solid #ddd; border-top: 5px solid green; border-radius: 50%; margin: auto; animation: spin 1s linear infinite; display: none; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .hidden { display: none; }
        .blue-ball { width: 30px; height: 30px; background: blue; border-radius: 50%; position: relative; animation: bounce 0.6s infinite alternate ease-in-out; margin: auto; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-30px); } }
    </style>
</head>
<body>

    <div id="step1" class="container">
        <h2>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© ÙˆØ§Ø¶Ø­Ø©</h2>
        <video id="video" autoplay></video>
        <canvas id="canvas" class="hidden"></canvas>
        <div class="loading-circle" id="loading"></div>
        <button class="btn" onclick="captureImage()">Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©</button>
        <p class="privacy" onclick="showSavedImage()">ğŸ“œ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</p>
    </div>

    <div id="step2" class="container hidden">
        <h2>âœ… ØªÙ… Ø§Ù„ØªØ£ÙƒØ¯</h2>
        <button class="btn" onclick="goToWelcome()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <div id="welcomePage" class="container hidden">
        <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ù…Ø­Ù…Ø¯</h2>
        <p>Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: <strong>5432780</strong></p>
        <p>Ø§Ù„Ø±ØµÙŠØ¯: <strong>23400 Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ</strong></p>
        <button class="btn" onclick="goToWithdraw()">Ø³Ø­Ø¨ Ù…Ø¨Ù„Øº Ù…Ø§Ù„ÙŠ</button>
    </div>

    <div id="withdrawPage" class="container hidden">
        <h2>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨Ù‡</h2>
        <input type="number" id="amountInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
        <h3>Ø§Ù„Ø¨Ù†Ùƒ Ø£Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø©</h3>
        <select id="banks"></select>
        <button class="btn" onclick="processWithdrawal()">Ø³Ø­Ø¨ Ø§Ù„Ù…Ø§Ù„</button>
    </div>

    <div id="processingPage" class="container hidden">
        <div class="blue-ball"></div>
        <p>â³ Ø¬Ø§Ø± Ø§Ù„ØªÙ†ÙÙŠØ°...</p>
    </div>

    <div id="serverErrorPage" class="container hidden">
        <h2>âš  Ø§Ù„Ø³ÙŠØ±ÙØ± Ù…Ø²Ø¯Ø­Ù…</h2>
        <p>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§</p>
        <button class="btn" onclick="retry()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
        <button class="btn" onclick="goToWelcome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>

    <script>
        const video = document.getElementById("video");
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        const loading = document.getElementById("loading");

        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => { video.srcObject = stream; })
            .catch(err => alert("ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§."));

        function captureImage() {
            loading.style.display = "block"; 
            setTimeout(() => {
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                const imageData = canvas.toDataURL("image/png");
                localStorage.setItem("savedImage", imageData);
                loading.style.display = "none";  
                document.getElementById("step1").classList.add("hidden");
                document.getElementById("step2").classList.remove("hidden");
            }, 3000);
        }

        function goToWelcome() {
            document.getElementById("step2").classList.add("hidden");
            document.getElementById("welcomePage").classList.remove("hidden");
        }

        function goToWithdraw() {
            document.getElementById("welcomePage").classList.add("hidden");
            document.getElementById("withdrawPage").classList.remove("hidden");

            const banks = [
                "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ø§Ù„ØªÙˆÙ†Ø³ÙŠ", "Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù…Ø§Ù†", "Ø¨Ù†Ùƒ Ø§Ù„Ø¨Ø±ÙƒØ©", "Ø¨Ù†Ùƒ ØªÙˆÙ†Ø³ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø¯ÙˆÙ„ÙŠ", "Ø¨Ù†Ùƒ Ø§Ù„Ø¥Ø³ÙƒØ§Ù†", "Ø¨Ù†Ùƒ Ø§Ù„Ø²ÙŠØªÙˆÙ†Ø©", 
                "PayPal", "Western Union", "Skrill", "Revolut", "Chase Bank", "Bank of America", "Citi Bank", "Barclays", 
                "HSBC", "Deutsche Bank", "Santander", "BBVA", "ANZ Bank", "Commonwealth Bank", "ICICI Bank", "HDFC Bank",
                "Bank of China", "Standard Chartered", "ING", "TD Bank", "Scotiabank", "NatWest", "RBC", "UBS", "Lloyds Bank",
                "BMO", "Nordea", "KfW", "ABN AMRO", "BNP Paribas", "SociÃ©tÃ© GÃ©nÃ©rale", "Mizuho Bank", "SMBC", "Raiffeisen Bank",
                "DBS Bank", "OCBC Bank", "Maybank"
            ];

            const select = document.getElementById("banks");
            select.innerHTML = "";
            banks.forEach(bank => {
                const option = document.createElement("option");
                option.textContent = bank;
                select.appendChild(option);
            });
        }

        function processWithdrawal() {
            const amount = document.getElementById("amountInput").value;
            localStorage.setItem("withdrawAmount", amount);

            document.getElementById("withdrawPage").classList.add("hidden");
            document.getElementById("processingPage").classList.remove("hidden");

            setTimeout(() => {
                document.getElementById("processingPage").classList.add("hidden");
                document.getElementById("serverErrorPage").classList.remove("hidden");
            }, 12000);
        }

        function showSavedImage() {
            const savedImage = localStorage.getItem("savedImage");
            const withdrawAmount = localStorage.getItem("withdrawAmount") || "Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº";

            if (savedImage) {
                const imgWindow = window.open();
                imgWindow.document.write(`<img src="${savedImage}" style="width:100%;"><p>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø³Ø­Ø¨Ù‡: ${withdrawAmount} Ø¯ÙˆÙ„Ø§Ø±</p>`);
            } else {
                alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØµÙˆØ±Ø© Ù…Ø­ÙÙˆØ¸Ø©.");
            }
        }
    </script>

</body>
</html>
